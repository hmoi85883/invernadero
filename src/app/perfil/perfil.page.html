<ion-header class="ion-no-border">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/home" color="light" icon="arrow-back-outline"></ion-back-button>
    </ion-buttons>
    <ion-title style="font-size: 18px;">Mi Cuenta</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">

  <div class="ion-text-center" style="margin-top: 20px; margin-bottom: 30px;">

    <div style="
        width: 110px; 
        height: 110px; 
        margin: 0 auto 15px; 
        border-radius: 50%; 
        background: linear-gradient(145deg, #1e1e1e, #2a2a2a);
        display: flex; 
        align-items: center; 
        justify-content: center;
        border: 2px solid var(--ion-color-primary);
        box-shadow: 0 0 20px rgba(0, 212, 98, 0.2);
    ">
      <ion-icon name="person" color="primary" style="font-size: 55px;"></ion-icon>
    </div>

    <div style="display: flex; justify-content: center; align-items: center; gap: 8px;">
      <h2 style="margin: 0; font-size: 24px; font-weight: 700; color: white;">{{ data.usuario }}</h2>

      <ion-button fill="clear" size="small" (click)="data.editarPerfil()"
        style="--padding-start: 5px; --padding-end: 5px;">
        <ion-icon name="create-outline" style="color: #666; font-size: 20px;"></ion-icon>
      </ion-button>
    </div>

    <p style="margin: 5px 0 0; color: #888; font-size: 14px;">Invernadero Manager</p>

    <div style="margin-top: 10px;">
      <ion-badge color="primary" style="padding: 6px 12px; border-radius: 20px; font-weight: 600;">
        {{ data.rol }}
      </ion-badge>
    </div>
  </div>

  <div class="premium-card">
    <ion-list style="background: transparent; padding: 0;">

      <ion-item lines="full" style="--background: transparent; --border-color: #333;">
        <ion-icon name="person-outline" slot="start" color="medium"></ion-icon>
        <ion-label>
          <h3 style="color: #ddd;">Usuario</h3>
          <p style="color: #666;">Nombre de cuenta</p>
        </ion-label>
        <ion-note slot="end" style="color: white; font-weight: 500;">{{ data.usuario }}</ion-note>
      </ion-item>

      <ion-item lines="full" style="--background: transparent; --border-color: #333;">
        <ion-icon name="shield-checkmark-outline" slot="start" color="medium"></ion-icon>
        <ion-label>
          <h3 style="color: #ddd;">Permisos</h3>
          <p style="color: #666;">Nivel de acceso</p>
        </ion-label>
        <ion-note slot="end" color="primary">{{ data.rol }}</ion-note>
      </ion-item>

      <ion-item lines="none" style="--background: transparent;">
        <ion-icon name="mail-outline" slot="start" color="medium"></ion-icon>
        <ion-label>
          <h3 style="color: #ddd;">Email</h3>
          <p style="color: #666;">Contacto registrado</p>
        </ion-label>
        <ion-note slot="end" style="font-size: 12px;">admin@ecogreen.com</ion-note>
      </ion-item>

    </ion-list>
  </div>

  <div class="premium-card" style="margin-top: 20px;">
    <ion-list style="background: transparent; padding: 0;">
      <ion-item lines="none" style="--background: transparent;">
        <ion-icon name="notifications-outline" slot="start" color="medium"></ion-icon>
        <ion-label style="color: #ddd;">Notificaciones</ion-label>

        <ion-toggle color="primary" slot="end" [(ngModel)]="data.notificacionesActivas"
          (ionChange)="data.verificarAlertas()">
        </ion-toggle>

      </ion-item>
    </ion-list>
  </div>

  <div style="margin-top: 40px;">
    <ion-button expand="block" color="danger" fill="outline" (click)="data.cerrarSesion()"
      style="--border-width: 1px; opacity: 0.8; --border-radius: 12px; height: 50px;">
      <ion-icon name="log-out-outline" slot="start"></ion-icon>
      Cerrar Sesi√≥n
    </ion-button>
    <p class="ion-text-center" style="font-size: 11px; color: #444; margin-top: 15px;">EcoGreen v1.0.0</p>
  </div>

</ion-content>